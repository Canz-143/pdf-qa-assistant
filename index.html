<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Q&A Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1><i class="fas fa-file-pdf"></i> PDF Q&A Assistant</h1>
            <div class="theme-toggle">
                <input type="checkbox" id="darkModeToggle" class="toggle-checkbox">
                <label for="darkModeToggle" class="toggle-label">
                    <i class="fas fa-moon"></i>
                    <i class="fas fa-sun"></i>
                </label>
            </div>
        </header>

        <main>
            <div class="upload-section">
                <div class="drag-drop-area" id="dropZone">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Drag & drop your PDF here or</p>
                    <label for="pdfUpload" class="upload-btn">Choose File</label>
                    <input type="file" id="pdfUpload" accept=".pdf" hidden>
                    <p class="file-info" id="fileInfo">No file selected</p>
                </div>
                <button id="uploadButton" class="primary-btn" disabled>
                    <i class="fas fa-upload"></i> Upload PDF
                </button>
                <div class="upload-progress-container" id="uploadProgressContainer">
                    <div class="upload-progress-bar" id="uploadProgressBar"></div>
                </div>
                <p id="uploadStatus" class="status-message"></p>
            </div>

            <div class="pdf-preview" id="pdfPreview">
                <h3>PDF Preview</h3>
                <div id="pdfViewer" class="pdf-viewer"></div>
            </div>

            <div class="qa-section" id="qaSection">
                <h2>Ask Questions About Your PDF</h2>
                <div class="question-form">
                    <input type="text" id="questionInput" placeholder="Ask a question about your document...">
                    <button id="askButton" class="primary-btn" disabled>
                        <i class="fas fa-paper-plane"></i> Ask
                    </button>
                </div>

                <div class="chat-container" id="chatContainer">
                    <!-- Chat messages will appear here -->
                </div>
            </div>
        </main>

        <div class="settings-panel" id="settingsPanel">
            <div class="settings-header">
                <h3>Settings</h3>
                <button id="closeSettings" class="icon-btn"><i class="fas fa-times"></i></button>
            </div>
            <div class="settings-content">
                <div class="settings-group">
                    <label for="modelSelect">LLM Model:</label>
                    <select id="modelSelect">
                        <option value="deepseek-r1:1.5b">DeepSeek 1.5B (Default)</option>
                        <option value="llama2">Llama 2</option>
                        <option value="mistral">Mistral</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label>Answer Quality:</label>
                    <div class="slider-container">
                        <input type="range" min="0" max="1" step="0.1" value="0.7" id="temperatureSlider">
                        <div class="slider-labels">
                            <span>Precise</span>
                            <span>Creative</span>
                        </div>
                    </div>
                </div>
                <button id="saveSettings" class="primary-btn">Save Settings</button>
            </div>
        </div>

        <div class="action-buttons">
            <button id="exportButton" class="icon-btn" title="Export Conversation">
                <i class="fas fa-download"></i>
            </button>
            <button id="clearButton" class="icon-btn" title="Clear Conversation">
                <i class="fas fa-trash"></i>
            </button>
            <button id="settingsButton" class="icon-btn" title="Settings">
                <i class="fas fa-cog"></i>
            </button>
        </div>

        <div id="loadingOverlay" class="loading-overlay">
            <div class="spinner"></div>
            <p id="loadingMessage">Processing your request...</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script src="script.js"></script>
</body>
</html>